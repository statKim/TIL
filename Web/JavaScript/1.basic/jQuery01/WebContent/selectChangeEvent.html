<!doctype html>
<html>
    <head>
        <meta charset="utf-8">
        <title>change 이벤트</title>
        <style>
			* { text-align:center; }
			table, tr, td {
				margin: 0 auto; 
				width: 120px;
				border: solid 3px grey;
				border-collapse: collapse;
			}
			th, .bg { 
				background-color:#036;
				color:white;
				font-weight:bold;
			}
		</style>
		<script src="jquery-3.3.1.min.js"></script>
		<script src="jquery.number.min.js"></script> <!-- 숫자 포맷 플러그인 -->
		<script type="text/javascript">
			$(function() {
				var price = 4500000;
				var amount, chkAmount = 0, optAmount = 0;
				
				//select 태그 option 변경시 기본 옵션 금액 계산
				$("#basicOption").on("change",function(){
					optAmount = parseInt($(this).val());	//기본 옵션 금액
					showAmount();
				});
				
				var $checkBox = $(":checkbox");	//체크박스 배열
				
				//checkbox 클릭 시 선택 옵션 계산
				$(":checkbox").on("click",function() {
					chkAmount = 0;	//클릭할 때마다 초기화
					
					$checkBox.each(function(index){	//각 체크박스마다 (배열의 각 요소마다)
						if ($(this).is(":checked"))	//선택한 경우에만
							chkAmount += parseInt($(this).val());	//누적 금액 계산
					});
					showAmount();
				});
				
				//주문액을 계산하여 출력
				function showAmount() {
					amount = price + optAmount + chkAmount;
					$("#amount").text($.number(amount) + " 원");	//주문액 출력
					//숫자 포맷 플러그인 사용 : $.number(숫자) : 전 단위 구분 4,500,000
				}
			});
		</script> 
    </head>
    <body>
        	<h1>카메라 주문서</h1>        
            <table border="1">
                <tr><td colspan="3"><img src="image/camera.jpg"></td></tr>
                <tr><td class="bg">기본 가격</td><td  colspan="2">4,500,000 원</td></tr>   
                <tr><td class="bg">기본 옵션 </td>
                     <td  colspan="2"><select id="basicOption" >
                                   <option value="0">선택하세요</option>
                                   <option value="100000">삼각대 100,000원</option>
                                   <option value="50000">차량용 충전기 50,000원</option>
                              </select></td></tr>
                <tr><th>선택 옵션</th><th>가격</th><th>선택</th></tr>   
                <tr><td>렌즈 필터</td><td>30,000 원</td><td><input type="checkbox"  id="lenzFilter" value="30000"></td></tr>        
                <tr><td>DSLR 가방</td><td>40,000 원</td><td><input type="checkbox"  id="dslrBag" value="40000"></td></tr>   
                <tr><td>청소도구</td><td>7,000 원</td><td><input type="checkbox"  id="cleaningTools" value="7000"></td></tr> 
                <tr><td class="bg">주문액</td><td id="amount" colspan="2">4,500,000 원</td></tr>           
            </table>          
    </body>
</html>